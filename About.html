<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>About – Oscar</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"/>
    <link rel="stylesheet" href="CSS/About.css" />

</head>

<body>
<div class="page" id="about">
    <header class="hero-header">
        <a href="HomePage.html#home" class="logo" data-text="brand-name">OSCAR</a>

        <div class="right-controls">
            <div class="social-links">
                <a href="https://www.linkedin.com/in/jiajun-jiang-b44397331"
                   aria-label="LinkedIn" target="_blank" rel="noopener noreferrer">
                    <i class="fa-brands fa-linkedin"></i>
                </a>
                <span>·</span>
                <a href="https://www.instagram.com/oscarjiang092/"
                   aria-label="Instagram" target="_blank" rel="noopener noreferrer">
                    <i class="fa-brands fa-instagram"></i>
                </a>
                <span>·</span>
                <a href="https://github.com/JiajunJiang-Oscar"
                   aria-label="Github" target="_blank" rel="noopener noreferrer">
                    <i class="fa-brands fa-github"></i>
                </a>
            </div>

            <button class="menu-toggle" aria-label="Open navigation" aria-expanded="false">
                <span class="menu-bar bar-top"></span>
                <span class="menu-bar bar-middle"></span>
                <span class="menu-bar bar-bottom"></span>
            </button>
        </div>
    </header>

    <!-- Body -->
    <main>
      <div class="section-label" data-text="about-section-label">ABOUT</div>
      <h1 class="about-title" data-text="about-heading">
        About me
      </h1>
      <p class="about-tagline" data-text="about-tagline">
        Cybersecurity & Software Engineering student based in Singapore.
      </p>

      <div class="about-grid">
        <!-- 左侧：故事 / 简介 -->
        <section>
          <div class="about-body" id="about-body">
            <!-- 文本会用 JS 从 TEXT.aboutParagraphs 注入 -->
          </div>
        </section>

        <!-- 右侧：当前关注点 / 关键标签 -->
        <aside class="card">
          <div class="card-title" data-text="about-focus-title">What I focus on</div>
          <ul class="card-list" id="about-focus-list">
            <!-- 由 JS 注入 -->
          </ul>
          <div class="pill-row" id="about-pill-row">
            <!-- 由 JS 注入 -->
          </div>
        </aside>
      </div>
    </main>

    <footer>
      <span data-text="about-footer-left">Open to learning, internships, and new challenges.</span>
      <span>
        <a href="mailto:your@email.com" data-text="about-footer-contact">Email me</a>
      </span>
    </footer>
  </div>

  <!-- 右侧弹出导航（和首页结构统一） -->
  <nav class="nav-overlay" aria-hidden="true">
    <button class="nav-close" aria-label="Close navigation">×</button>
    <div class="nav-menu">
      <a href="HomePage.html#home" data-text="nav-home">Home</a>
      <a href="About.html#about" data-text="nav-about">About</a>
      <a href="#" data-text="nav-blog">Blog</a>
    </div>
  </nav>

  <!-- 内容配置 -->
  <script src="Content.js"></script>
  <script>
    /* ===== 顶部菜单逻辑：与首页完全一致 ===== */
    const menuToggle = document.querySelector('.menu-toggle');
    const navOverlay = document.querySelector('.nav-overlay');
    const navClose   = document.querySelector('.nav-close');
    const navLinks   = document.querySelectorAll('.nav-menu a');

    function openMenu() {
      if (!menuToggle || !navOverlay) return;
      menuToggle.classList.add('open');
      navOverlay.classList.add('open');
      menuToggle.setAttribute('aria-expanded', 'true');
      navOverlay.setAttribute('aria-hidden', 'false');
    }

    function closeMenu() {
      if (!menuToggle || !navOverlay) return;
      menuToggle.classList.remove('open');
      navOverlay.classList.remove('open');
      menuToggle.setAttribute('aria-expanded', 'false');
      navOverlay.setAttribute('aria-hidden', 'true');
    }

    if (menuToggle) {
      menuToggle.addEventListener('click', () => {
        const isOpen = menuToggle.classList.contains('open');
        isOpen ? closeMenu() : openMenu();
      });
    }

    if (navClose) {
      navClose.addEventListener('click', closeMenu);
    }

    navLinks.forEach(link => {
      link.addEventListener('click', closeMenu);
    });

    const logoEl = document.querySelector('[data-text="brand-name"]');
    if (logoEl && TEXT.logoText) {
      logoEl.textContent = TEXT.logoText;
    }

    const aboutLabelEl   = document.querySelector('[data-text="about-section-label"]');
    const aboutHeadingEl = document.querySelector('[data-text="about-heading"]');
    const aboutTaglineEl = document.querySelector('[data-text="about-tagline"]');

    if (aboutLabelEl && TEXT.aboutSectionLabel) aboutLabelEl.textContent = TEXT.aboutSectionLabel;
    if (aboutHeadingEl && TEXT.aboutHeading)    aboutHeadingEl.textContent = TEXT.aboutHeading;
    if (aboutTaglineEl && TEXT.aboutTagline)    aboutTaglineEl.textContent = TEXT.aboutTagline;

    const aboutBodyEl = document.getElementById('about-body');
    if (aboutBodyEl && Array.isArray(TEXT.aboutParagraphs)) {
      aboutBodyEl.innerHTML = TEXT.aboutParagraphs
        .map(p => `<p>${p}</p>`)
        .join('');
    }

    // 右侧卡片：标题 + 列表 + 小标签
    const focusTitleEl = document.querySelector('[data-text="about-focus-title"]');
    if (focusTitleEl && TEXT.aboutFocusTitle) {
      focusTitleEl.textContent = TEXT.aboutFocusTitle;
    }

    const focusListEl = document.getElementById('about-focus-list');
    if (focusListEl && Array.isArray(TEXT.aboutFocusItems)) {
      focusListEl.innerHTML = TEXT.aboutFocusItems
        .map(item => `<li>${item}</li>`)
        .join('');
    }

    const pillRowEl = document.getElementById('about-pill-row');
    if (pillRowEl && Array.isArray(TEXT.aboutPills)) {
      pillRowEl.innerHTML = TEXT.aboutPills
        .map(pill => `<span class="pill">${pill}</span>`)
        .join('');
    }

    // 底部文字
    const footerLeftEl    = document.querySelector('[data-text="about-footer-left"]');
    const footerContactEl = document.querySelector('[data-text="about-footer-contact"]');

    if (footerLeftEl && TEXT.aboutFooterLeft) {
      footerLeftEl.textContent = TEXT.aboutFooterLeft;
    }
    if (footerContactEl && TEXT.aboutFooterContactText) {
      footerContactEl.textContent = TEXT.aboutFooterContactText;
    }

    // 导航文字（复用首页 TEXT 里的 nav 字段）
    const navHomeEls  = document.querySelectorAll('[data-text="nav-home"]');
    const navAboutEls = document.querySelectorAll('[data-text="nav-about"]');
    const navBlogEls  = document.querySelectorAll('[data-text="nav-blog"]');

    navHomeEls.forEach(el  => TEXT.navHome  && (el.textContent  = TEXT.navHome));
    navAboutEls.forEach(el => TEXT.navAbout && (el.textContent = TEXT.navAbout));
    navBlogEls.forEach(el  => TEXT.navBlog  && (el.textContent  = TEXT.navBlog));

    // 页面 title
    if (TEXT.aboutPageTitle) {
      document.title = TEXT.aboutPageTitle;
    }
  </script>
</body>
</html>